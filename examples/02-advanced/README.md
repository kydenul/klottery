# 高级功能示例

本示例展示了线程安全抽奖系统的高级功能和配置选项。

## 功能演示

1. **自定义配置** - 创建和使用自定义的抽奖引擎配置
2. **错误恢复** - 带错误恢复功能的连续抽奖
3. **性能优化** - 使用优化版本的连抽功能和进度回调
4. **自定义日志** - 实现和使用自定义日志记录器
5. **运行时配置更新** - 在运行时动态更新引擎配置

## 运行示例

```bash
cd examples/02-advanced
go run main.go
```

## 关键特性

### 自定义配置
- 锁超时时间配置
- 重试次数和间隔配置
- 配置验证和默认值设置

### 错误恢复
- 部分成功处理
- 详细错误信息
- 成功率统计

### 性能优化
- 批量处理优化
- 实时进度回调
- 内存使用优化

### 运行时配置
- 动态配置更新
- 线程安全的配置修改
- 配置生效验证

## 示例输出

```
=== 线程安全抽奖系统 - 高级功能示例 ===

--- 自定义配置示例 ---
✓ 自定义配置引擎创建成功 (锁超时: 10s, 重试: 5次)
✓ 抽奖结果: 73

--- 错误恢复功能示例 ---
✓ 全部成功: [42 15 38 7 29 44 12 33 50 19]
✓ 奖品抽奖全部成功: 8次

--- 性能优化功能示例 ---
开始优化连抽 (带进度显示):
   进度: 6.7% (1/15) - 当前结果: 67
   进度: 13.3% (2/15) - 当前结果: 23
   ...
✓ 优化连抽完成: [67 23 89 45 12 78 34 56 91 28 15 73 42 88 19]

--- 运行时配置更新示例 ---
当前配置: 锁超时=30s, 重试次数=3
✓ 锁超时时间已更新为 5秒
✓ 重试次数已更新为 10次
更新后配置: 锁超时=5s, 重试次数=10
✓ 使用新配置抽奖成功: 65
```