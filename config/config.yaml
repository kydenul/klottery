# 线程安全抽奖系统配置文件
# 生产环境配置示例


# Redis 配置
redis:
  # 基础连接配置
  addr: "localhost:6379"
  password: ""
  db: 0
  
  # 连接池配置
  pool_size: 100
  min_idle_conns: 10
  max_retries: 3
  
  # 超时配置
  dial_timeout: "5s"
  read_timeout: "3s"
  write_timeout: "3s"
  pool_timeout: "4s"
  
  # 集群配置 (可选)
  cluster_mode: false
  cluster_addrs: []
  
  # TLS 配置 (可选)
  tls_enabled: false
  cert_file: ""
  key_file: ""
  ca_file: ""

# 抽奖引擎配置
lottery:
  # 锁配置
  lock_timeout: "30s"
  retry_attempts: 3
  retry_interval: "100ms"
  lock_cache_ttl: "1s"
  
# 熔断器配置
circuit_breaker:
  enabled: true
  name: "lottery-engine"
  max_requests: 3
  interval: "60s"
  timeout: "30s"
  failure_ratio: 0.6
  min_requests: 3
  on_state_change: true
